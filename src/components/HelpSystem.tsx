// @ts-nocheck
import React, { useState } from 'react';
import { HelpCircle, X, ChevronRight, Book, Lightbulb, MessageCircle } from 'lucide-react';

// –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
const moduleHelp: Record<string, { title: string; tips: string[]; quickActions: string[] }> = {
  dashboard: {
    title: '–î–∞—à–±–æ—Ä–¥',
    tips: [
      '–î–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã',
      '–ö—Ä–∞—Å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ–∑–Ω–∞—á–∞—é—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã',
      '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å'
    ],
    quickActions: ['–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–¥–∞—á–∏', '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—É–ª—å—Ç—É—Ä—ã', '–û—Ç–∫—Ä—ã—Ç—å –æ—Ç—á—ë—Ç—ã']
  },
  donors: {
    title: '–î–æ–Ω–æ—Ä—ã',
    tips: [
      '–ö–∞–∂–¥—ã–π –¥–æ–Ω–æ—Ä –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID, –Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è —Å DON-',
      '–£–∫–∞–∂–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—á–∏–∫–∞ –¥–ª—è —Å–≤—è–∑–∏ —Å –∫–ª–∏–µ–Ω—Ç–æ–º',
      '–°—Ç–∞—Ç—É—Å "–ö–∞—Ä–∞–Ω—Ç–∏–Ω" –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫',
      '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ QR-–∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –¥–æ–Ω–æ—Ä–∞'
    ],
    quickActions: ['–î–æ–±–∞–≤–∏—Ç—å –¥–æ–Ω–æ—Ä–∞', '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç', '–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É']
  },
  donations: {
    title: '–î–æ–Ω–∞—Ü–∏–∏',
    tips: [
      '–î–æ–Ω–∞—Ü–∏—è ‚Äî —ç—Ç–æ –∑–∞–±–æ—Ä –±–∏–æ–º–∞—Ç–µ—Ä–∏–∞–ª–∞ –æ—Ç –¥–æ–Ω–æ—Ä–∞',
      '–ù–æ–≤—ã–µ –¥–æ–Ω–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —Å—Ç–∞—Ç—É—Å "–ö–∞—Ä–∞–Ω—Ç–∏–Ω"',
      '–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ "–û–±—Ä–∞–±–æ—Ç–∞–Ω"',
      '–ò–∑ –¥–æ–Ω–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–ª–µ—Ç–æ—á–Ω—É—é –∫—É–ª—å—Ç—É—Ä—É'
    ],
    quickActions: ['–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–æ–Ω–∞—Ü–∏–∏', '–°–æ–∑–¥–∞—Ç—å –∫—É–ª—å—Ç—É—Ä—É', '–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é']
  },
  cultures: {
    title: '–ö—É–ª—å—Ç—É—Ä—ã –∫–ª–µ—Ç–æ–∫',
    tips: [
      '–ö—É–ª—å—Ç—É—Ä–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–∑ –¥–æ–Ω–∞—Ü–∏–∏',
      '–ù–æ–º–µ—Ä –ø–∞—Å—Å–∞–∂–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ—Å–µ–≤–µ',
      '–ü–µ—Ä–≤–∏—á–Ω–∞—è –∫—É–ª—å—Ç—É—Ä–∞ (P0) –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–æ—Ä–æ–∂–µ–Ω–∞ –≤ –º–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫',
      '–ü—Ä–∏ –ø–æ–¥–∫–æ—Ä–º–∫–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–ª–∏ –≤—Å–µ —Å—Ä–∞–∑—É',
      '–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–æ–Ω—Ñ–ª—é–µ–Ω—Ç–Ω–æ—Å—Ç—å—é ‚Äî –ø—Ä–∏ 80-90% —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–∞—Å—Å–∞–∂'
    ],
    quickActions: ['–ù–æ–≤–∞—è –∫—É–ª—å—Ç—É—Ä–∞', '–í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—é', '–ü–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–∫–∏']
  },
  masterbanks: {
    title: '–ú–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫',
    tips: [
      '–ú–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫—É–ª—å—Ç—É—Ä (–ø–∞—Å—Å–∞–∂ 0)',
      '–£–∫–∞–∂–∏—Ç–µ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫—Ä–∏–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ',
      '–ü–∞—Å–ø–æ—Ä—Ç –º–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏',
      '–ü–µ—á–∞—Ç–∞–π—Ç–µ —ç—Ç–∏–∫–µ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫—Ä–∏–æ–ø—Ä–æ–±–∏—Ä–∫–∏'
    ],
    quickActions: ['–°–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫', '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Å–ø–æ—Ä—Ç', '–ü–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫']
  },
  storage: {
    title: '–ö—Ä–∏–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ',
    tips: [
      '–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã',
      '–ü—Ä–∏ —Ä–∞–∑–º–æ—Ä–æ–∑–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–∞–±–æ—á–∞—è –∫—É–ª—å—Ç—É—Ä–∞',
      '–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø—Ä–æ–±–∏—Ä–æ–∫',
      '–ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã –∏–º–µ—é—Ç –∂—ë–ª—Ç—ã–π —Å—Ç–∞—Ç—É—Å'
    ],
    quickActions: ['–†–∞–∑–º–æ—Ä–æ–∑–∏—Ç—å –æ–±—Ä–∞–∑–µ—Ü', '–í—ã–¥–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª', '–£—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å']
  },
  equipment: {
    title: '–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
    tips: [
      '–ö–∞–∂–¥–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏–º–µ–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è',
      '–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–µ–π—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
      '–û—Ç—á—ë—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, —Ç—Ä–µ–±—É—é—â–µ–µ –≤–Ω–∏–º–∞–Ω–∏—è –≤ –±–ª–∏–∂–∞–π—à–∏–µ 2 –º–µ—Å—è—Ü–∞',
      '–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –¥–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏'
    ],
    quickActions: ['–î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç', '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é']
  },
  media: {
    title: '–°—Ä–µ–¥—ã –∏ —Ä–µ–∞–∫—Ç–∏–≤—ã',
    tips: [
      '–°—Ä–µ–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è—Ö',
      '–ñ—ë–ª—Ç–∞—è –º–µ—Ç–∫–∞ ‚Äî –º–∞–ª—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –∏–ª–∏ —Å–∫–æ—Ä–æ –∏—Å—Ç–µ–∫–∞–µ—Ç —Å—Ä–æ–∫',
      '–ö—Ä–∞—Å–Ω–∞—è –º–µ—Ç–∫–∞ ‚Äî –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–∏–ª–∏–∑–∞—Ü–∏—è',
      '–£–∫–∞–∂–∏—Ç–µ –ø–æ—Ä–æ–≥ –º–∞–ª–æ–≥–æ –æ—Å—Ç–∞—Ç–∫–∞ –¥–ª—è —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞'
    ],
    quickActions: ['–î–æ–±–∞–≤–∏—Ç—å —Å—Ä–µ–¥—É', '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏', '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç']
  },
  tasks: {
    title: '–ó–∞–¥–∞—á–∏',
    tips: [
      '–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ ‚Äî —Å—Ä–æ–∫ –¥–æ 2 –º–µ—Å—è—Ü–µ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)',
      '–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ ‚Äî —Å—Ä–æ–∫ –±–æ–ª–µ–µ 2 –º–µ—Å—è—Ü–µ–≤',
      '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–¥–µ–ª—è—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º',
      '–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π',
      '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫—É –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è'
    ],
    quickActions: ['–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É', '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∏–¥', '–§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É']
  },
  releases: {
    title: '–í—ã–¥–∞—á–∞',
    tips: [
      '–í—ã–¥–∞—á–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è',
      '–£–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏',
      '–ü–æ—Å–ª–µ –≤—ã–¥–∞—á–∏ —Å—Ç–∞—Ç—É—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "–í—ã–¥–∞–Ω"',
      '–ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –≤—ã–¥–∞—á—É –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è'
    ],
    quickActions: ['–ù–æ–≤–∞—è –≤—ã–¥–∞—á–∞', '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å', '–ò—Å—Ç–æ—Ä–∏—è –≤—ã–¥–∞—á']
  },
  disposals: {
    title: '–£—Ç–∏–ª–∏–∑–∞—Ü–∏—è',
    tips: [
      '–£—Ç–∏–ª–∏–∑–∞—Ü–∏—è ‚Äî –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è',
      '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É —É—Ç–∏–ª–∏–∑–∞—Ü–∏–∏',
      '–í—Å–µ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ –∂—É—Ä–Ω–∞–ª–µ',
      '–ú–æ–∂–Ω–æ —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—É–ª—å—Ç—É—Ä—ã, –æ–±—Ä–∞–∑—Ü—ã –∏ —Å—Ä–µ–¥—ã'
    ],
    quickActions: ['–£—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å', '–ñ—É—Ä–Ω–∞–ª —É—Ç–∏–ª–∏–∑–∞—Ü–∏–π', '–§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–∏—á–∏–Ω–µ']
  },
  resources: {
    title: '–†–µ—Å—É—Ä—Å—ã',
    tips: [
      '–û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª: –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –°—Ä–µ–¥—ã, –ü–æ—Å—É–¥–∞',
      '–ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤',
      '–ö—Ä–∏–æ–ø—Ä–æ–±–∏—Ä–∫–∏ —Ç–µ–ø–µ—Ä—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –ø–æ—Å—É–¥—ã (–∫–∞—Ç–µ–≥–æ—Ä–∏—è "–ö—Ä–∏–æ–ø–æ—Å—É–¥–∞")',
      '–ü—Ä–∏ –∑–∞–º–æ—Ä–æ–∑–∫–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ –∫—Ä–∏–æ–ø—Ä–æ–±–∏—Ä–∫–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞'
    ],
    quickActions: ['–î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', '–î–æ–±–∞–≤–∏—Ç—å —Å—Ä–µ–¥—É', '–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—É–¥—É']
  },
  containers: {
    title: '–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ—Å—É–¥—ã',
    tips: [
      '–§–ª–∞–∫–æ–Ω—ã, —á–∞—à–∫–∏, –ø–ª–∞–Ω—à–µ—Ç—ã –∏ –∫—Ä–∏–æ–ø—Ä–æ–±–∏—Ä–∫–∏',
      '–£–∫–∞–∂–∏—Ç–µ –ø–ª–æ—â–∞–¥—å –∏ –æ–±—ä—ë–º –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø–æ—Å–∞–¥–æ—á–Ω–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏',
      '–ö—Ä–∏–æ–ø—Ä–æ–±–∏—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –∑–∞–º–æ—Ä–æ–∑–∫–µ –∫—É–ª—å—Ç—É—Ä',
      '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ—Å—É–¥–∞ —Å–∫—Ä—ã—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ö –≤—ã–±–æ—Ä–∞'
    ],
    quickActions: ['–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—É–¥—É', '–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å']
  },
  autotasks: {
    title: '–ê–≤—Ç–æ–∑–∞–¥–∞—á–∏',
    tips: [
      '–ê–≤—Ç–æ–∑–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é',
      '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏ —à–∞–±–ª–æ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–¥–∞—á',
      '–í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è ‚Äî —Ç–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–∑–∞–¥–∞—á–∏',
      '–î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏'
    ],
    quickActions: ['–°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ', '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ', '–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é']
  }
};

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
const globalTips = [
  { icon: 'üîç', text: '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ ID' },
  { icon: 'üìÑ', text: '–í—Å–µ –æ—Ç—á—ë—Ç—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ PDF —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã' },
  { icon: 'üè∑Ô∏è', text: 'QR-–∫–æ–¥—ã –Ω–∞ —ç—Ç–∏–∫–µ—Ç–∫–∞—Ö –ø–æ–∑–≤–æ–ª—è—é—Ç –±—ã—Å—Ç—Ä–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑—Ü—ã' },
  { icon: '‚ö°', text: '–ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏' },
  { icon: 'üîî', text: '–°–ª–µ–¥–∏—Ç–µ –∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –æ —Å—Ä–æ–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –≥–æ–¥–Ω–æ—Å—Ç–∏' }
];

interface HelpPanelProps {
  currentModule: string;
  isOpen: boolean;
  onClose: () => void;
}

export const HelpPanel: React.FC<HelpPanelProps> = ({ currentModule, isOpen, onClose }) => {
  const [activeTab, setActiveTab] = useState<'tips' | 'guide' | 'faq'>('tips');
  const help = moduleHelp[currentModule] || moduleHelp.dashboard;

  if (!isOpen) return null;

  return (
    <div className="fixed right-0 top-0 h-full w-80 bg-white shadow-2xl z-50 flex flex-col border-l border-slate-200">
      {/* Header */}
      <div className="p-4 border-b border-slate-200 bg-primary text-white">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-2">
            <HelpCircle className="w-5 h-5" />
            <span className="font-semibold">–°–ø—Ä–∞–≤–∫–∞</span>
          </div>
          <button onClick={onClose} className="p-1 hover:bg-white/20 rounded">
            <X className="w-5 h-5" />
          </button>
        </div>
        <p className="text-sm text-white/80 mt-1">{help.title}</p>
      </div>

      {/* Tabs */}
      <div className="flex border-b border-slate-200">
        <button
          onClick={() => setActiveTab('tips')}
          className={`flex-1 py-2 text-sm font-medium ${activeTab === 'tips' ? 'text-primary border-b-2 border-primary' : 'text-slate-500'}`}
        >
          <Lightbulb className="w-4 h-4 inline mr-1" />
          –°–æ–≤–µ—Ç—ã
        </button>
        <button
          onClick={() => setActiveTab('guide')}
          className={`flex-1 py-2 text-sm font-medium ${activeTab === 'guide' ? 'text-primary border-b-2 border-primary' : 'text-slate-500'}`}
        >
          <Book className="w-4 h-4 inline mr-1" />
          –ì–∏–¥
        </button>
        <button
          onClick={() => setActiveTab('faq')}
          className={`flex-1 py-2 text-sm font-medium ${activeTab === 'faq' ? 'text-primary border-b-2 border-primary' : 'text-slate-500'}`}
        >
          <MessageCircle className="w-4 h-4 inline mr-1" />
          FAQ
        </button>
      </div>

      {/* Content */}
      <div className="flex-1 overflow-auto p-4">
        {activeTab === 'tips' && (
          <div className="space-y-4">
            <div>
              <h3 className="text-sm font-semibold text-slate-700 mb-2">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è</h3>
              <ul className="space-y-2">
                {help.tips.map((tip, i) => (
                  <li key={i} className="flex items-start gap-2 text-sm text-slate-600">
                    <ChevronRight className="w-4 h-4 text-primary flex-shrink-0 mt-0.5" />
                    <span>{tip}</span>
                  </li>
                ))}
              </ul>
            </div>

            <div className="pt-4 border-t border-slate-200">
              <h3 className="text-sm font-semibold text-slate-700 mb-2">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
              <div className="flex flex-wrap gap-2">
                {help.quickActions.map((action, i) => (
                  <span key={i} className="px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded-full">
                    {action}
                  </span>
                ))}
              </div>
            </div>

            <div className="pt-4 border-t border-slate-200">
              <h3 className="text-sm font-semibold text-slate-700 mb-2">üåü –û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã</h3>
              <ul className="space-y-2">
                {globalTips.map((tip, i) => (
                  <li key={i} className="flex items-start gap-2 text-sm text-slate-600">
                    <span>{tip.icon}</span>
                    <span>{tip.text}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        )}

        {activeTab === 'guide' && (
          <div className="space-y-4">
            <div className="p-4 bg-blue-50 rounded-lg">
              <h3 className="font-medium text-blue-800 mb-2">–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</h3>
              <ol className="text-sm text-blue-700 space-y-1 list-decimal list-inside">
                <li>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–æ–Ω–æ—Ä–∞</li>
                <li>–°–æ–∑–¥–∞–π—Ç–µ –¥–æ–Ω–∞—Ü–∏—é</li>
                <li>–í—ã–¥–µ–ª–∏—Ç–µ –∫—É–ª—å—Ç—É—Ä—É –∏–∑ –¥–æ–Ω–∞—Ü–∏–∏</li>
                <li>–ü—Ä–æ–≤–æ–¥–∏—Ç–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏</li>
                <li>–ó–∞–º–æ—Ä–æ–∑—å—Ç–µ –∏–ª–∏ –≤—ã–¥–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª</li>
              </ol>
            </div>

            <div className="p-4 bg-green-50 rounded-lg">
              <h3 className="font-medium text-green-800 mb-2">–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å</h3>
              <div className="text-sm text-green-700">
                <p className="mb-2">–î–æ–Ω–æ—Ä ‚Üí –î–æ–Ω–∞—Ü–∏—è ‚Üí –ö—É–ª—å—Ç—É—Ä–∞ ‚Üí –ú–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫/–•—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –í—ã–¥–∞—á–∞</p>
                <p>–ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —ç—Ç–∏–∫–µ—Ç–∫–∏</p>
              </div>
            </div>

            <div className="p-4 bg-amber-50 rounded-lg">
              <h3 className="font-medium text-amber-800 mb-2">–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å</h3>
              <ul className="text-sm text-amber-700 space-y-1">
                <li>‚Ä¢ –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫—É–ª—å—Ç—É—Ä–∞ = –ø–∞—Å—Å–∞–∂ 0</li>
                <li>‚Ä¢ –ú–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫ —Ç–æ–ª—å–∫–æ –∏–∑ P0</li>
                <li>‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å—Ä–æ–∫–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</li>
                <li>‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–∞–¥–∞—á–∏</li>
              </ul>
            </div>
          </div>
        )}

        {activeTab === 'faq' && (
          <div className="space-y-3">
            {[
              { q: '–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫?', a: '–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–≤–∏—á–Ω—É—é –∫—É–ª—å—Ç—É—Ä—É (–ø–∞—Å—Å–∞–∂ 0) –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–±–∞–Ω–∫"' },
              { q: '–ü–æ—á–µ–º—É –Ω–µ –≤–∏–∂—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥—É–ª–∏?', a: '–î–æ—Å—Ç—É–ø –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π —Ä–æ–ª–∏. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É' },
              { q: '–ö–∞–∫ —Å–ø–∏—Å–∞—Ç—å —Å—Ä–µ–¥—É?', a: '–°—Ä–µ–¥—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è—Ö —Å –∫—É–ª—å—Ç—É—Ä–∞–º–∏' },
              { q: '–ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å —É—Ç–∏–ª–∏–∑–∞—Ü–∏—é?', a: '–ù–µ—Ç, —É—Ç–∏–ª–∏–∑–∞—Ü–∏—è ‚Äî –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è' },
              { q: '–ì–¥–µ –Ω–∞–π—Ç–∏ –æ—Ç—á—ë—Ç—ã?', a: '–ö–Ω–æ–ø–∫–∞ "–û—Ç—á—ë—Ç" –µ—Å—Ç—å –≤ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ' },
              { q: '–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?', a: '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞–ø–∏—Å—å –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"' }
            ].map((item, i) => (
              <details key={i} className="group">
                <summary className="flex items-center justify-between p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100">
                  <span className="text-sm font-medium text-slate-700">{item.q}</span>
                  <ChevronRight className="w-4 h-4 text-slate-400 group-open:rotate-90 transition-transform" />
                </summary>
                <p className="p-3 text-sm text-slate-600">{item.a}</p>
              </details>
            ))}
          </div>
        )}
      </div>

      {/* Footer */}
      <div className="p-4 border-t border-slate-200 bg-slate-50">
        <p className="text-xs text-slate-500 text-center">
          –ù–∞–∂–º–∏—Ç–µ <kbd className="px-1 py-0.5 bg-white border rounded text-xs">?</kbd> –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–ø—Ä–∞–≤–∫–∏
        </p>
      </div>
    </div>
  );
};

// –ö–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏ –¥–ª—è —Ö–µ–¥–µ—Ä–∞
export const HelpButton: React.FC<{ onClick: () => void }> = ({ onClick }) => (
  <button 
    onClick={onClick}
    className="p-2 hover:bg-slate-100 rounded-lg text-slate-600 hover:text-primary transition-colors"
    title="–°–ø—Ä–∞–≤–∫–∞ (?)"
  >
    <HelpCircle className="w-5 h-5" />
  </button>
);

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ (tooltip)
export const Tooltip: React.FC<{ text: string; children: React.ReactNode }> = ({ text, children }) => (
  <div className="relative group inline-block">
    {children}
    <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-slate-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
      {text}
      <div className="absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-slate-800"></div>
    </div>
  </div>
);
